#!/system/bin/sh
#è¯·ä¸è¦ç¡¬ç¼–ç /magisk/modname/...;ç›¸åï¼Œè¯·ä½¿ç”¨$MODDIR/...
#è¿™å°†ä½¿æ‚¨çš„è„šæœ¬å…¼å®¹ï¼Œå³ä½¿Magiskä»¥åæ”¹å˜æŒ‚è½½ç‚¹


MODDIR=${0%/*}
LOG=$MODDIR/log.txt
counter=0
config_file=$MODDIR/config.txt

#è¯¥è„šæœ¬å°†åœ¨è®¾å¤‡å¼€æœºåä½œä¸ºå»¶è¿ŸæœåŠ¡å¯åŠ¨
while true; do
    while [ "$(getprop sys.boot_completed)" != "1" ]; do
        sleep 20
    done
    time=$(date +"%Y-%m-%d %H:%M:%S")
    echo "ğŸ‘Œ[$time] å¼€æœºå®Œæˆï¼Œå·²è¿›å…¥å¾ªç¯" >> $LOG    
  
    #è·å–å˜é‡
    configs="$(cat "$MODDIR/config.conf" | egrep -v '^#')"
	
    #åˆ†å‰²å˜é‡æçº¯
    SDIR1=$(echo "$configs" | awk -F '=' '/^SDIR1=/{print $2}')
    SDIR2=$(echo "$configs" | awk -F '=' '/^SDIR2=/{print $2}')
    SDIR3=$(echo "$configs" | awk -F '=' '/^SDIR3=/{print $2}')
    SDIR4=$(echo "$configs" | awk -F '=' '/^SDIR4=/{print $2}')
    SDIR5=$(echo "$configs" | awk -F '=' '/^SDIR5=/{print $2}')
    SDIR6=$(echo "$configs" | awk -F '=' '/^SDIR6=/{print $2}')
    SDIR7=$(echo "$configs" | awk -F '=' '/^SDIR7=/{print $2}')
    SDIR8=$(echo "$configs" | awk -F '=' '/^SDIR8=/{print $2}')
    SDIR9=$(echo "$configs" | awk -F '=' '/^SDIR9=/{print $2}')
    SDIR10=$(echo "$configs" | awk -F '=' '/^SDIR10=/{print $2}')

    TDIR1=$(echo "$configs" | awk -F '=' '/^TDIR1=/{print $2}')
    TDIR2=$(echo "$configs" | awk -F '=' '/^TDIR2=/{print $2}')
    TDIR3=$(echo "$configs" | awk -F '=' '/^TDIR3=/{print $2}')
    TDIR4=$(echo "$configs" | awk -F '=' '/^TDIR4=/{print $2}')
    TDIR5=$(echo "$configs" | awk -F '=' '/^TDIR5=/{print $2}')
    TDIR6=$(echo "$configs" | awk -F '=' '/^TDIR6=/{print $2}')
    TDIR7=$(echo "$configs" | awk -F '=' '/^TDIR7=/{print $2}')
    TDIR8=$(echo "$configs" | awk -F '=' '/^TDIR8=/{print $2}')
    TDIR9=$(echo "$configs" | awk -F '=' '/^TDIR9=/{print $2}')
    TDIR10=$(echo "$configs" | awk -F '=' '/^TDIR10=/{print $2}')
	
    RM1=$(echo "$configs" | awk -F '=' '/^RM1=/{print $2}')
    RM2=$(echo "$configs" | awk -F '=' '/^RM2=/{print $2}')
    RM3=$(echo "$configs" | awk -F '=' '/^RM3=/{print $2}')
    RM4=$(echo "$configs" | awk -F '=' '/^RM4=/{print $2}')
    RM5=$(echo "$configs" | awk -F '=' '/^RM5=/{print $2}')
    RM6=$(echo "$configs" | awk -F '=' '/^RM6=/{print $2}')
	RM7=$(echo "$configs" | awk -F '=' '/^RM7=/{print $2}')
    RM8=$(echo "$configs" | awk -F '=' '/^RM8=/{print $2}')
    RM9=$(echo "$configs" | awk -F '=' '/^RM9=/{print $2}')
	RM10=$(echo "$configs" | awk -F '=' '/^RM10=/{print $2}')
	
	TS=$(echo "$configs" | awk -F '=' '/^TS=/{print $2}')
	
#----------------SDIR1 -> TDIR1---------------------

    #æ£€æŸ¥TDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
    if [[ "$TDIR1" != "" ]]; then
        #è‹¥TIDRè·¯å¾„ä¸ä¸ºç©º
        #æ£€æŸ¥TIRæ˜¯å¦å­˜åœ¨
        if [ ! -d "$TDIR1" ]; then
        #è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè·¯å¾„å¹¶ç”Ÿæˆæ—¥å¿—
            mkdir -p $TDIR1
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•1] æ£€æµ‹åˆ°$TDIR1(ç›®æ ‡ç›®å½•)ç›®å½•ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºç›®å½•" >> $LOG        
        else    #è‹¥å­˜åœ¨ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€å±‚åˆ¤æ–­
            #ç”Ÿæˆæ—¥å¿—
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•1] æ£€æµ‹åˆ°$TDIR1(ç›®æ ‡ç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
            #æ£€æŸ¥SDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
            if [[ "$SDIR1" != "" ]];then
            #è‹¥ä¸ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—ï¼Œåè¿›è¡Œä¸‹è½½çŠ¶æ€åˆ¤æ–­
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸ‘Œ[$time] [ç›®å½•1] æ£€æµ‹åˆ°$SDIR1(åŸç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
                #æ£€æŸ¥SDIRç›®å½•ä¸‹æ˜¯å¦æœ‰.tmpæ–‡ä»¶
                tmp1=$(find $SDIR1 -type f -name '*.tmp')
                if [ -n "$tmp1" ]; then
                    #å¦‚æœæœ‰ï¼Œç”Ÿæˆæ—¥å¿—ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "â—ï¸[$time] [ç›®å½•1] å·²å‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œä¸è¿›è¡Œç§»åŠ¨ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                else    #å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œæ–‡ä»¶ç§»åŠ¨
                    #ç”Ÿæˆæ—¥å¿—
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "ğŸ‘Œ[$time] [ç›®å½•1] æœªå‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œå¼€å§‹ç§»åŠ¨æ–‡ä»¶" >> $LOG
                    #è·å–è¦ç§»åŠ¨çš„æ–‡ä»¶æ•°é‡
                    files_to_move=$(ls $SDIR1 | wc -l)       
                    #ç§»åŠ¨æ–‡ä»¶
                    mv $SDIR1* $TDIR1
                                       
                    #åˆ¤æ–­æ˜¯å¦åˆ é™¤ç›®å½•
                    #æ£€æŸ¥ $RM æ˜¯å¦ç­‰äº 1
                    if [ "$RM1" -eq 1 ]; then
                        #å¦‚æœ $RM ç­‰äº 1ï¼Œåˆ™åˆ é™¤ç›®å½• $SDIR
                        rm -rf "$SDIR1"
                        echo "âœ…[$time] [ç›®å½•1] å·²ä¸ºæ‚¨åˆ é™¤$SDIR1(åŸç›®å½•)"
                    #å¦‚æœ $RM ä¸ç­‰äº 1ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
                    fi
                    
                    #æ›´æ–°è®¡æ•°å™¨
                    counter=$((counter + files_to_move))
                    title="æœ€æ–°ç§»åŠ¨ä½äº[ç›®å½•1]$SDIR1
                    âœ…æœ¬æ¨¡å—å…±ä¸ºæ‚¨ç§»åŠ¨äº† $counter ä¸ªæ–‡ä»¶ï¼"
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "âœ…[$time] [ç›®å½•1] ç¬¬$counterä¸ªæ–‡ä»¶ç§»åŠ¨å·²å®Œæˆï¼Œè®¡æ•°å™¨æ›´æ–°å®Œæ¯•ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                fi    #ä¸‹è½½çŠ¶æ€åˆ¤æ–­ç»“æŸ
            else    #å¦‚æœSDIRè·¯å¾„ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸš«[$time] [ç›®å½•1] æ£€æµ‹åˆ°$SDIR1(åŸç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG
                  
            fi    #SDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­ç»“æŸ                
        fi    #TDIRæ˜¯å¦å­˜åœ¨åˆ¤æ–­ç»“æŸ
    else    #è‹¥TDIRè·¯å¾„ä¸ºç©º
        time=$(date +"%Y-%m-%d %H:%M:%S")
        echo "ğŸš«[$time] [ç›®å½•1] æ£€æµ‹åˆ°$TDIR1(ç›®æ ‡ç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG       
    fi    #TDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­å®Œæ¯•
    
#----------------SDIR2 -> TDIR2---------------------

    #æ£€æŸ¥TDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
    if [[ "$TDIR2" != "" ]]; then
        #è‹¥TIDRè·¯å¾„ä¸ä¸ºç©º
        #æ£€æŸ¥TIRæ˜¯å¦å­˜åœ¨
        if [ ! -d "$TDIR2" ]; then
        #è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè·¯å¾„å¹¶ç”Ÿæˆæ—¥å¿—
            mkdir -p $TDIR2
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•2] æ£€æµ‹åˆ°$TDIR2ç›®å½•ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºç›®å½•" >> $LOG        
        else    #è‹¥å­˜åœ¨ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€å±‚åˆ¤æ–­
            #ç”Ÿæˆæ—¥å¿—
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•2] æ£€æµ‹åˆ°$TDIR2(ç›®æ ‡ç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
            #æ£€æŸ¥SDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
            if [[ "$SDIR2" != "" ]];then
            #è‹¥ä¸ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—ï¼Œåè¿›è¡Œä¸‹è½½çŠ¶æ€åˆ¤æ–­
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸ‘Œ[$time] [ç›®å½•2] æ£€æµ‹åˆ°$SDIR2(åŸç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
                #æ£€æŸ¥SDIRç›®å½•ä¸‹æ˜¯å¦æœ‰.tmpæ–‡ä»¶
                tmp2=$(find $SDIR2 -type f -name '*.tmp')
                if [ -n "$tmp2" ]; then
                    #å¦‚æœæœ‰ï¼Œç”Ÿæˆæ—¥å¿—ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "â—ï¸[$time] [ç›®å½•2] å·²å‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œä¸è¿›è¡Œç§»åŠ¨ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                else    #å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œæ–‡ä»¶ç§»åŠ¨
                    #ç”Ÿæˆæ—¥å¿—
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "ğŸ‘Œ[$time] [ç›®å½•2] æœªå‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œå¼€å§‹ç§»åŠ¨æ–‡ä»¶" >> $LOG
                    #è·å–è¦ç§»åŠ¨çš„æ–‡ä»¶æ•°é‡
                    files_to_move=$(ls $SDIR2 | wc -l)       
                    #ç§»åŠ¨æ–‡ä»¶
                    mv $SDIR2* $TDIR2
                    
                    #åˆ¤æ–­æ˜¯å¦åˆ é™¤ç›®å½•
                    #æ£€æŸ¥ $RM æ˜¯å¦ç­‰äº 1
                    if [ "$RM2" -eq 1 ]; then
                        #å¦‚æœ $RM ç­‰äº 1ï¼Œåˆ™åˆ é™¤ç›®å½• $SDIR
                        rm -rf "$SDIR2"
                        echo "âœ…[$time] [ç›®å½•2] å·²ä¸ºæ‚¨åˆ é™¤$SDIR2(åŸç›®å½•)"
                    #å¦‚æœ $RM ä¸ç­‰äº 1ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
                    fi
                    
                    #æ›´æ–°è®¡æ•°å™¨
                    counter=$((counter + files_to_move))
                    title="æœ€æ–°ç§»åŠ¨ä½äº[ç›®å½•2]$SDIR2
                    âœ…æœ¬æ¨¡å—å…±ä¸ºæ‚¨ç§»åŠ¨äº† $counter ä¸ªæ–‡ä»¶ï¼"
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "âœ…[$time] [ç›®å½•2] ç¬¬$counterä¸ªæ–‡ä»¶ç§»åŠ¨å·²å®Œæˆï¼Œè®¡æ•°å™¨æ›´æ–°å®Œæ¯•ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                fi    #ä¸‹è½½çŠ¶æ€åˆ¤æ–­ç»“æŸ
            else    #å¦‚æœSDIRè·¯å¾„ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸš«[$time] [ç›®å½•2] æ£€æµ‹åˆ°$SDIR2(åŸç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG
                  
            fi    #SDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­ç»“æŸ                
        fi    #TDIRæ˜¯å¦å­˜åœ¨åˆ¤æ–­ç»“æŸ
    else    #è‹¥TDIRè·¯å¾„ä¸ºç©º
        time=$(date +"%Y-%m-%d %H:%M:%S")
        echo "ğŸš«[$time] [ç›®å½•2] æ£€æµ‹åˆ°$TDIR2(ç›®æ ‡ç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG       
    fi    #TDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­å®Œæ¯•
    
#----------------SDIR3 -> TDIR3---------------------

    #æ£€æŸ¥TDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
    if [[ "$TDIR3" != "" ]]; then
        #è‹¥TIDRè·¯å¾„ä¸ä¸ºç©º
        #æ£€æŸ¥TIRæ˜¯å¦å­˜åœ¨
        if [ ! -d "$TDIR3" ]; then
        #è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè·¯å¾„å¹¶ç”Ÿæˆæ—¥å¿—
            mkdir -p $TDIR3
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•3] æ£€æµ‹åˆ°$TDIR3(ç›®æ ‡ç›®å½•)ç›®å½•ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºç›®å½•" >> $LOG        
        else    #è‹¥å­˜åœ¨ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€å±‚åˆ¤æ–­
            #ç”Ÿæˆæ—¥å¿—
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•3] æ£€æµ‹åˆ°$TDIR3(ç›®æ ‡ç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
            #æ£€æŸ¥SDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
            if [[ "$SDIR3" != "" ]];then
            #è‹¥ä¸ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—ï¼Œåè¿›è¡Œä¸‹è½½çŠ¶æ€åˆ¤æ–­
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸ‘Œ[$time] [ç›®å½•3] æ£€æµ‹åˆ°$SDIR3(åŸç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
                #æ£€æŸ¥SDIRç›®å½•ä¸‹æ˜¯å¦æœ‰.tmpæ–‡ä»¶
                tmp3=$(find $SDIR3 -type f -name '*.tmp')
                if [ -n "$tmp3" ]; then
                    #å¦‚æœæœ‰ï¼Œç”Ÿæˆæ—¥å¿—ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "â—ï¸[$time] [ç›®å½•3] å·²å‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œä¸è¿›è¡Œç§»åŠ¨ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                else    #å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œæ–‡ä»¶ç§»åŠ¨
                    #ç”Ÿæˆæ—¥å¿—
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "ğŸ‘Œ[$time] [ç›®å½•3] æœªå‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œå¼€å§‹ç§»åŠ¨æ–‡ä»¶" >> $LOG
                    #è·å–è¦ç§»åŠ¨çš„æ–‡ä»¶æ•°é‡
                    files_to_move=$(ls $SDIR3 | wc -l)       
                    #ç§»åŠ¨æ–‡ä»¶
                    mv $SDIR3* $TDIR3
                    
                    #åˆ¤æ–­æ˜¯å¦åˆ é™¤ç›®å½•
                    #æ£€æŸ¥ $RM æ˜¯å¦ç­‰äº 1
                    if [ "$RM3" -eq 1 ]; then
                        #å¦‚æœ $RM ç­‰äº 1ï¼Œåˆ™åˆ é™¤ç›®å½• $SDIR
                        rm -rf "$SDIR3"
                        echo "âœ…[$time] [ç›®å½•3] å·²ä¸ºæ‚¨åˆ é™¤$SDIR3(åŸç›®å½•)"
                    #å¦‚æœ $RM ä¸ç­‰äº 1ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
                    fi
                    
                    #æ›´æ–°è®¡æ•°å™¨
                    counter=$((counter + files_to_move))
                    title="æœ€æ–°ç§»åŠ¨ä½äº[ç›®å½•3]$SDIR3
                    âœ…æœ¬æ¨¡å—å…±ä¸ºæ‚¨ç§»åŠ¨äº† $counter ä¸ªæ–‡ä»¶ï¼"
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "âœ…[$time] [ç›®å½•3] ç¬¬$counterä¸ªæ–‡ä»¶ç§»åŠ¨å·²å®Œæˆï¼Œè®¡æ•°å™¨æ›´æ–°å®Œæ¯•ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                fi    #ä¸‹è½½çŠ¶æ€åˆ¤æ–­ç»“æŸ
            else    #å¦‚æœSDIRè·¯å¾„ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸš«[$time] [ç›®å½•3] æ£€æµ‹åˆ°$SDIR3(åŸç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG
                  
            fi    #SDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­ç»“æŸ                
        fi    #TDIRæ˜¯å¦å­˜åœ¨åˆ¤æ–­ç»“æŸ
    else    #è‹¥TDIRè·¯å¾„ä¸ºç©º
        time=$(date +"%Y-%m-%d %H:%M:%S")
        echo "ğŸš«[$time] [ç›®å½•3] æ£€æµ‹åˆ°$TDIR3(ç›®æ ‡ç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG       
    fi    #TDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­å®Œæ¯•   

#----------------SDIR4 -> TDIR4---------------------

    #æ£€æŸ¥TDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
    if [[ "$TDIR4" != "" ]]; then
        #è‹¥TIDRè·¯å¾„ä¸ä¸ºç©º
        #æ£€æŸ¥TIRæ˜¯å¦å­˜åœ¨
        if [ ! -d "$TDIR4" ]; then
        #è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè·¯å¾„å¹¶ç”Ÿæˆæ—¥å¿—
            mkdir -p $TDIR4
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•4] æ£€æµ‹åˆ°$TDIR4(ç›®æ ‡ç›®å½•)ç›®å½•ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºç›®å½•" >> $LOG        
        else    #è‹¥å­˜åœ¨ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€å±‚åˆ¤æ–­
            #ç”Ÿæˆæ—¥å¿—
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•4] æ£€æµ‹åˆ°$TDIR4(ç›®æ ‡ç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
            #æ£€æŸ¥SDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
            if [[ "$SDIR4" != "" ]];then
            #è‹¥ä¸ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—ï¼Œåè¿›è¡Œä¸‹è½½çŠ¶æ€åˆ¤æ–­
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸ‘Œ[$time] [ç›®å½•4] æ£€æµ‹åˆ°$SDIR4(åŸç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
                #æ£€æŸ¥SDIRç›®å½•ä¸‹æ˜¯å¦æœ‰.tmpæ–‡ä»¶
                tmp4=$(find $SDIR4 -type f -name '*.tmp')
                if [ -n "$tmp4" ]; then
                    #å¦‚æœæœ‰ï¼Œç”Ÿæˆæ—¥å¿—ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "â—ï¸[$time] [ç›®å½•4] å·²å‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œä¸è¿›è¡Œç§»åŠ¨ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                else    #å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œæ–‡ä»¶ç§»åŠ¨
                    #ç”Ÿæˆæ—¥å¿—
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "ğŸ‘Œ[$time] [ç›®å½•4] æœªå‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œå¼€å§‹ç§»åŠ¨æ–‡ä»¶" >> $LOG
                    #è·å–è¦ç§»åŠ¨çš„æ–‡ä»¶æ•°é‡
                    files_to_move=$(ls $SDIR4 | wc -l)       
                    #ç§»åŠ¨æ–‡ä»¶
                    mv $SDIR4* $TDIR4
                                       
                    #åˆ¤æ–­æ˜¯å¦åˆ é™¤ç›®å½•
                    #æ£€æŸ¥ $RM æ˜¯å¦ç­‰äº 1
                    if [ "$RM4" -eq 1 ]; then
                        #å¦‚æœ $RM ç­‰äº 1ï¼Œåˆ™åˆ é™¤ç›®å½• $SDIR
                        rm -rf "$SDIR4"
                        echo "âœ…[$time] [ç›®å½•4] å·²ä¸ºæ‚¨åˆ é™¤$SDIR4(åŸç›®å½•)"
                    #å¦‚æœ $RM ä¸ç­‰äº 1ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
                    fi
                    
                    #æ›´æ–°è®¡æ•°å™¨
                    counter=$((counter + files_to_move))
                    title="æœ€æ–°ç§»åŠ¨ä½äº[ç›®å½•4]$SDIR4
                    âœ…æœ¬æ¨¡å—å…±ä¸ºæ‚¨ç§»åŠ¨äº† $counter ä¸ªæ–‡ä»¶ï¼"
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "âœ…[$time] [ç›®å½•4] ç¬¬$counterä¸ªæ–‡ä»¶ç§»åŠ¨å·²å®Œæˆï¼Œè®¡æ•°å™¨æ›´æ–°å®Œæ¯•ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                fi    #ä¸‹è½½çŠ¶æ€åˆ¤æ–­ç»“æŸ
            else    #å¦‚æœSDIRè·¯å¾„ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸš«[$time] [ç›®å½•4] æ£€æµ‹åˆ°$SDIR4(åŸç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG
                  
            fi    #SDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­ç»“æŸ                
        fi    #TDIRæ˜¯å¦å­˜åœ¨åˆ¤æ–­ç»“æŸ
    else    #è‹¥TDIRè·¯å¾„ä¸ºç©º
        time=$(date +"%Y-%m-%d %H:%M:%S")
        echo "ğŸš«[$time] [ç›®å½•4] æ£€æµ‹åˆ°$TDIR4(ç›®æ ‡ç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG       
    fi    #TDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­å®Œæ¯•
    
#----------------SDIR5 -> TDIR5---------------------

    #æ£€æŸ¥TDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
    if [[ "$TDIR5" != "" ]]; then
        #è‹¥TIDRè·¯å¾„ä¸ä¸ºç©º
        #æ£€æŸ¥TIRæ˜¯å¦å­˜åœ¨
        if [ ! -d "$TDIR5" ]; then
        #è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè·¯å¾„å¹¶ç”Ÿæˆæ—¥å¿—
            mkdir -p $TDIR5
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•5] æ£€æµ‹åˆ°$TDIR5(ç›®æ ‡ç›®å½•)ç›®å½•ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºç›®å½•" >> $LOG        
        else    #è‹¥å­˜åœ¨ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€å±‚åˆ¤æ–­
            #ç”Ÿæˆæ—¥å¿—
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•5] æ£€æµ‹åˆ°$TDIR5(ç›®æ ‡ç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
            #æ£€æŸ¥SDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
            if [[ "$SDIR5" != "" ]];then
            #è‹¥ä¸ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—ï¼Œåè¿›è¡Œä¸‹è½½çŠ¶æ€åˆ¤æ–­
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸ‘Œ[$time] [ç›®å½•5] æ£€æµ‹åˆ°$SDIR5(åŸç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
                #æ£€æŸ¥SDIRç›®å½•ä¸‹æ˜¯å¦æœ‰.tmpæ–‡ä»¶
                tmp5=$(find $SDIR5 -type f -name '*.tmp')
                if [ -n "$tmp5" ]; then
                    #å¦‚æœæœ‰ï¼Œç”Ÿæˆæ—¥å¿—ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "â—ï¸[$time] [ç›®å½•5] å·²å‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œä¸è¿›è¡Œç§»åŠ¨ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                else    #å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œæ–‡ä»¶ç§»åŠ¨
                    #ç”Ÿæˆæ—¥å¿—
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "ğŸ‘Œ[$time] [ç›®å½•5] æœªå‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œå¼€å§‹ç§»åŠ¨æ–‡ä»¶" >> $LOG
                    #è·å–è¦ç§»åŠ¨çš„æ–‡ä»¶æ•°é‡
                    files_to_move=$(ls $SDIR5 | wc -l)       
                    #ç§»åŠ¨æ–‡ä»¶
                    mv $SDIR5* $TDIR5
                                       
                    #åˆ¤æ–­æ˜¯å¦åˆ é™¤ç›®å½•
                    #æ£€æŸ¥ $RM æ˜¯å¦ç­‰äº 1
                    if [ "$RM5" -eq 1 ]; then
                        #å¦‚æœ $RM ç­‰äº 1ï¼Œåˆ™åˆ é™¤ç›®å½• $SDIR
                        rm -rf "$SDIR5"
                        echo "âœ…[$time] [ç›®å½•5] å·²ä¸ºæ‚¨åˆ é™¤$SDIR5(åŸç›®å½•)"
                    #å¦‚æœ $RM ä¸ç­‰äº 1ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
                    fi
                    
                    #æ›´æ–°è®¡æ•°å™¨
                    counter=$((counter + files_to_move))
                    title="æœ€æ–°ç§»åŠ¨ä½äº[ç›®å½•5]$SDIR5
                    âœ…æœ¬æ¨¡å—å…±ä¸ºæ‚¨ç§»åŠ¨äº† $counter ä¸ªæ–‡ä»¶ï¼"
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "âœ…[$time] [ç›®å½•5] ç¬¬$counterä¸ªæ–‡ä»¶ç§»åŠ¨å·²å®Œæˆï¼Œè®¡æ•°å™¨æ›´æ–°å®Œæ¯•ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                fi    #ä¸‹è½½çŠ¶æ€åˆ¤æ–­ç»“æŸ
            else    #å¦‚æœSDIRè·¯å¾„ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸš«[$time] [ç›®å½•5] æ£€æµ‹åˆ°$SDIR5(åŸç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG
                  
            fi    #SDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­ç»“æŸ                
        fi    #TDIRæ˜¯å¦å­˜åœ¨åˆ¤æ–­ç»“æŸ
    else    #è‹¥TDIRè·¯å¾„ä¸ºç©º
        time=$(date +"%Y-%m-%d %H:%M:%S")
        echo "ğŸš«[$time] [ç›®å½•5] æ£€æµ‹åˆ°$TDIR5(ç›®æ ‡ç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG       
    fi    #TDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­å®Œæ¯•

#----------------SDIR6 -> TDIR6---------------------

    #æ£€æŸ¥TDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
    if [[ "$TDIR6" != "" ]]; then
        #è‹¥TIDRè·¯å¾„ä¸ä¸ºç©º
        #æ£€æŸ¥TIRæ˜¯å¦å­˜åœ¨
        if [ ! -d "$TDIR6" ]; then
        #è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè·¯å¾„å¹¶ç”Ÿæˆæ—¥å¿—
            mkdir -p $TDIR6
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•6] æ£€æµ‹åˆ°$TDIR6(ç›®æ ‡ç›®å½•)ç›®å½•ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºç›®å½•" >> $LOG        
        else    #è‹¥å­˜åœ¨ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€å±‚åˆ¤æ–­
            #ç”Ÿæˆæ—¥å¿—
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•6] æ£€æµ‹åˆ°$TDIR6(ç›®æ ‡ç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
            #æ£€æŸ¥SDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
            if [[ "$SDIR6" != "" ]];then
            #è‹¥ä¸ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—ï¼Œåè¿›è¡Œä¸‹è½½çŠ¶æ€åˆ¤æ–­
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸ‘Œ[$time] [ç›®å½•6] æ£€æµ‹åˆ°$SDIR6(åŸç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
                #æ£€æŸ¥SDIRç›®å½•ä¸‹æ˜¯å¦æœ‰.tmpæ–‡ä»¶
                tmp6=$(find $SDIR6 -type f -name '*.tmp')
                if [ -n "$tmp6" ]; then
                    #å¦‚æœæœ‰ï¼Œç”Ÿæˆæ—¥å¿—ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "â—ï¸[$time] [ç›®å½•6] å·²å‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œä¸è¿›è¡Œç§»åŠ¨ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                else    #å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œæ–‡ä»¶ç§»åŠ¨
                    #ç”Ÿæˆæ—¥å¿—
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "ğŸ‘Œ[$time] [ç›®å½•6] æœªå‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œå¼€å§‹ç§»åŠ¨æ–‡ä»¶" >> $LOG
                    #è·å–è¦ç§»åŠ¨çš„æ–‡ä»¶æ•°é‡
                    files_to_move=$(ls $SDIR6 | wc -l)       
                    #ç§»åŠ¨æ–‡ä»¶
                    mv $SDIR6* $TDIR6
                                       
                    #åˆ¤æ–­æ˜¯å¦åˆ é™¤ç›®å½•
                    #æ£€æŸ¥ $RM æ˜¯å¦ç­‰äº 1
                    if [ "$RM6" -eq 1 ]; then
                        #å¦‚æœ $RM ç­‰äº 1ï¼Œåˆ™åˆ é™¤ç›®å½• $SDIR
                        rm -rf "$SDIR6"
                        echo "âœ…[$time] [ç›®å½•6] å·²ä¸ºæ‚¨åˆ é™¤$SDIR6(åŸç›®å½•)"
                    #å¦‚æœ $RM ä¸ç­‰äº 1ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
                    fi
                    
                    #æ›´æ–°è®¡æ•°å™¨
                    counter=$((counter + files_to_move))
                    title="æœ€æ–°ç§»åŠ¨ä½äº[ç›®å½•6]$SDIR6
                    âœ…æœ¬æ¨¡å—å…±ä¸ºæ‚¨ç§»åŠ¨äº† $counter ä¸ªæ–‡ä»¶ï¼"
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "âœ…[$time] [ç›®å½•6] ç¬¬$counterä¸ªæ–‡ä»¶ç§»åŠ¨å·²å®Œæˆï¼Œè®¡æ•°å™¨æ›´æ–°å®Œæ¯•ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                fi    #ä¸‹è½½çŠ¶æ€åˆ¤æ–­ç»“æŸ
            else    #å¦‚æœSDIRè·¯å¾„ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸš«[$time] [ç›®å½•6] æ£€æµ‹åˆ°$SDIR6(åŸç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG
                  
            fi    #SDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­ç»“æŸ                
        fi    #TDIRæ˜¯å¦å­˜åœ¨åˆ¤æ–­ç»“æŸ
    else    #è‹¥TDIRè·¯å¾„ä¸ºç©º
        time=$(date +"%Y-%m-%d %H:%M:%S")
        echo "ğŸš«[$time] [ç›®å½•6] æ£€æµ‹åˆ°$TDIR6(ç›®æ ‡ç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG       
    fi    #TDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­å®Œæ¯•

#----------------SDIR7 -> TDIR7---------------------

    #æ£€æŸ¥TDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
    if [[ "$TDIR7" != "" ]]; then
        #è‹¥TIDRè·¯å¾„ä¸ä¸ºç©º
        #æ£€æŸ¥TIRæ˜¯å¦å­˜åœ¨
        if [ ! -d "$TDIR7" ]; then
        #è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè·¯å¾„å¹¶ç”Ÿæˆæ—¥å¿—
            mkdir -p $TDIR7
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•7] æ£€æµ‹åˆ°$TDIR7(ç›®æ ‡ç›®å½•)ç›®å½•ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºç›®å½•" >> $LOG        
        else    #è‹¥å­˜åœ¨ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€å±‚åˆ¤æ–­
            #ç”Ÿæˆæ—¥å¿—
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•7] æ£€æµ‹åˆ°$TDIR7(ç›®æ ‡ç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
            #æ£€æŸ¥SDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
            if [[ "$SDIR7" != "" ]];then
            #è‹¥ä¸ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—ï¼Œåè¿›è¡Œä¸‹è½½çŠ¶æ€åˆ¤æ–­
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸ‘Œ[$time] [ç›®å½•7] æ£€æµ‹åˆ°$SDIR7(åŸç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
                #æ£€æŸ¥SDIRç›®å½•ä¸‹æ˜¯å¦æœ‰.tmpæ–‡ä»¶
                tmp7=$(find $SDIR7 -type f -name '*.tmp')
                if [ -n "$tmp7" ]; then
                    #å¦‚æœæœ‰ï¼Œç”Ÿæˆæ—¥å¿—ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "â—ï¸[$time] [ç›®å½•7] å·²å‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œä¸è¿›è¡Œç§»åŠ¨ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                else    #å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œæ–‡ä»¶ç§»åŠ¨
                    #ç”Ÿæˆæ—¥å¿—
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "ğŸ‘Œ[$time] [ç›®å½•7] æœªå‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œå¼€å§‹ç§»åŠ¨æ–‡ä»¶" >> $LOG
                    #è·å–è¦ç§»åŠ¨çš„æ–‡ä»¶æ•°é‡
                    files_to_move=$(ls $SDIR7 | wc -l)       
                    #ç§»åŠ¨æ–‡ä»¶
                    mv $SDIR7* $TDIR7
                                       
                    #åˆ¤æ–­æ˜¯å¦åˆ é™¤ç›®å½•
                    #æ£€æŸ¥ $RM æ˜¯å¦ç­‰äº 1
                    if [ "$RM7" -eq 1 ]; then
                        #å¦‚æœ $RM ç­‰äº 1ï¼Œåˆ™åˆ é™¤ç›®å½• $SDIR
                        rm -rf "$SDIR7"
                        echo "âœ…[$time] [ç›®å½•7] å·²ä¸ºæ‚¨åˆ é™¤$SDIR7(åŸç›®å½•)"
                    #å¦‚æœ $RM ä¸ç­‰äº 1ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
                    fi
                    
                    #æ›´æ–°è®¡æ•°å™¨
                    counter=$((counter + files_to_move))
                    title="æœ€æ–°ç§»åŠ¨ä½äº[ç›®å½•7]$SDIR7
                    âœ…æœ¬æ¨¡å—å…±ä¸ºæ‚¨ç§»åŠ¨äº† $counter ä¸ªæ–‡ä»¶ï¼"
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "âœ…[$time] [ç›®å½•7] ç¬¬$counterä¸ªæ–‡ä»¶ç§»åŠ¨å·²å®Œæˆï¼Œè®¡æ•°å™¨æ›´æ–°å®Œæ¯•ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                fi    #ä¸‹è½½çŠ¶æ€åˆ¤æ–­ç»“æŸ
            else    #å¦‚æœSDIRè·¯å¾„ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸš«[$time] [ç›®å½•7] æ£€æµ‹åˆ°$SDIR7(åŸç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG
                  
            fi    #SDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­ç»“æŸ                
        fi    #TDIRæ˜¯å¦å­˜åœ¨åˆ¤æ–­ç»“æŸ
    else    #è‹¥TDIRè·¯å¾„ä¸ºç©º
        time=$(date +"%Y-%m-%d %H:%M:%S")
        echo "ğŸš«[$time] [ç›®å½•7] æ£€æµ‹åˆ°$TDIR7(ç›®æ ‡ç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG       
    fi    #TDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­å®Œæ¯•

#----------------SDIR6 -> TDIR6---------------------

    #æ£€æŸ¥TDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
    if [[ "$TDIR6" != "" ]]; then
        #è‹¥TIDRè·¯å¾„ä¸ä¸ºç©º
        #æ£€æŸ¥TIRæ˜¯å¦å­˜åœ¨
        if [ ! -d "$TDIR6" ]; then
        #è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè·¯å¾„å¹¶ç”Ÿæˆæ—¥å¿—
            mkdir -p $TDIR6
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•6] æ£€æµ‹åˆ°$TDIR6(ç›®æ ‡ç›®å½•)ç›®å½•ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºç›®å½•" >> $LOG        
        else    #è‹¥å­˜åœ¨ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€å±‚åˆ¤æ–­
            #ç”Ÿæˆæ—¥å¿—
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•6] æ£€æµ‹åˆ°$TDIR6(ç›®æ ‡ç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
            #æ£€æŸ¥SDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
            if [[ "$SDIR6" != "" ]];then
            #è‹¥ä¸ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—ï¼Œåè¿›è¡Œä¸‹è½½çŠ¶æ€åˆ¤æ–­
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸ‘Œ[$time] [ç›®å½•6] æ£€æµ‹åˆ°$SDIR6(åŸç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
                #æ£€æŸ¥SDIRç›®å½•ä¸‹æ˜¯å¦æœ‰.tmpæ–‡ä»¶
                tmp6=$(find $SDIR6 -type f -name '*.tmp')
                if [ -n "$tmp6" ]; then
                    #å¦‚æœæœ‰ï¼Œç”Ÿæˆæ—¥å¿—ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "â—ï¸[$time] [ç›®å½•6] å·²å‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œä¸è¿›è¡Œç§»åŠ¨ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                else    #å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œæ–‡ä»¶ç§»åŠ¨
                    #ç”Ÿæˆæ—¥å¿—
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "ğŸ‘Œ[$time] [ç›®å½•6] æœªå‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œå¼€å§‹ç§»åŠ¨æ–‡ä»¶" >> $LOG
                    #è·å–è¦ç§»åŠ¨çš„æ–‡ä»¶æ•°é‡
                    files_to_move=$(ls $SDIR6 | wc -l)       
                    #ç§»åŠ¨æ–‡ä»¶
                    mv $SDIR6* $TDIR6
                                       
                    #åˆ¤æ–­æ˜¯å¦åˆ é™¤ç›®å½•
                    #æ£€æŸ¥ $RM æ˜¯å¦ç­‰äº 1
                    if [ "$RM6" -eq 1 ]; then
                        #å¦‚æœ $RM ç­‰äº 1ï¼Œåˆ™åˆ é™¤ç›®å½• $SDIR
                        rm -rf "$SDIR6"
                        echo "âœ…[$time] [ç›®å½•6] å·²ä¸ºæ‚¨åˆ é™¤$SDIR6(åŸç›®å½•)"
                    #å¦‚æœ $RM ä¸ç­‰äº 1ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
                    fi
                    
                    #æ›´æ–°è®¡æ•°å™¨
                    counter=$((counter + files_to_move))
                    title="æœ€æ–°ç§»åŠ¨ä½äº[ç›®å½•6]$SDIR6
                    âœ…æœ¬æ¨¡å—å…±ä¸ºæ‚¨ç§»åŠ¨äº† $counter ä¸ªæ–‡ä»¶ï¼"
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "âœ…[$time] [ç›®å½•6] ç¬¬$counterä¸ªæ–‡ä»¶ç§»åŠ¨å·²å®Œæˆï¼Œè®¡æ•°å™¨æ›´æ–°å®Œæ¯•ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                fi    #ä¸‹è½½çŠ¶æ€åˆ¤æ–­ç»“æŸ
            else    #å¦‚æœSDIRè·¯å¾„ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸš«[$time] [ç›®å½•6] æ£€æµ‹åˆ°$SDIR6(åŸç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG
                  
            fi    #SDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­ç»“æŸ                
        fi    #TDIRæ˜¯å¦å­˜åœ¨åˆ¤æ–­ç»“æŸ
    else    #è‹¥TDIRè·¯å¾„ä¸ºç©º
        time=$(date +"%Y-%m-%d %H:%M:%S")
        echo "ğŸš«[$time] [ç›®å½•6] æ£€æµ‹åˆ°$TDIR6(ç›®æ ‡ç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG       
    fi    #TDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­å®Œæ¯•

#----------------SDIR9 -> TDIR9---------------------

    #æ£€æŸ¥TDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
    if [[ "$TDIR9" != "" ]]; then
        #è‹¥TIDRè·¯å¾„ä¸ä¸ºç©º
        #æ£€æŸ¥TIRæ˜¯å¦å­˜åœ¨
        if [ ! -d "$TDIR9" ]; then
        #è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè·¯å¾„å¹¶ç”Ÿæˆæ—¥å¿—
            mkdir -p $TDIR9
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•9] æ£€æµ‹åˆ°$TDIR9(ç›®æ ‡ç›®å½•)ç›®å½•ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºç›®å½•" >> $LOG        
        else    #è‹¥å­˜åœ¨ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€å±‚åˆ¤æ–­
            #ç”Ÿæˆæ—¥å¿—
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•9] æ£€æµ‹åˆ°$TDIR9(ç›®æ ‡ç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
            #æ£€æŸ¥SDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
            if [[ "$SDIR9" != "" ]];then
            #è‹¥ä¸ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—ï¼Œåè¿›è¡Œä¸‹è½½çŠ¶æ€åˆ¤æ–­
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸ‘Œ[$time] [ç›®å½•9] æ£€æµ‹åˆ°$SDIR9(åŸç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
                #æ£€æŸ¥SDIRç›®å½•ä¸‹æ˜¯å¦æœ‰.tmpæ–‡ä»¶
                tmp9=$(find $SDIR9 -type f -name '*.tmp')
                if [ -n "$tmp9" ]; then
                    #å¦‚æœæœ‰ï¼Œç”Ÿæˆæ—¥å¿—ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "â—ï¸[$time] [ç›®å½•9] å·²å‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œä¸è¿›è¡Œç§»åŠ¨ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                else    #å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œæ–‡ä»¶ç§»åŠ¨
                    #ç”Ÿæˆæ—¥å¿—
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "ğŸ‘Œ[$time] [ç›®å½•9] æœªå‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œå¼€å§‹ç§»åŠ¨æ–‡ä»¶" >> $LOG
                    #è·å–è¦ç§»åŠ¨çš„æ–‡ä»¶æ•°é‡
                    files_to_move=$(ls $SDIR9 | wc -l)       
                    #ç§»åŠ¨æ–‡ä»¶
                    mv $SDIR9* $TDIR9
                                       
                    #åˆ¤æ–­æ˜¯å¦åˆ é™¤ç›®å½•
                    #æ£€æŸ¥ $RM æ˜¯å¦ç­‰äº 1
                    if [ "$RM9" -eq 1 ]; then
                        #å¦‚æœ $RM ç­‰äº 1ï¼Œåˆ™åˆ é™¤ç›®å½• $SDIR
                        rm -rf "$SDIR9"
                        echo "âœ…[$time] [ç›®å½•9] å·²ä¸ºæ‚¨åˆ é™¤$SDIR9(åŸç›®å½•)"
                    #å¦‚æœ $RM ä¸ç­‰äº 1ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
                    fi
                    
                    #æ›´æ–°è®¡æ•°å™¨
                    counter=$((counter + files_to_move))
                    title="æœ€æ–°ç§»åŠ¨ä½äº[ç›®å½•9]$SDIR9
                    âœ…æœ¬æ¨¡å—å…±ä¸ºæ‚¨ç§»åŠ¨äº† $counter ä¸ªæ–‡ä»¶ï¼"
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "âœ…[$time] [ç›®å½•9] ç¬¬$counterä¸ªæ–‡ä»¶ç§»åŠ¨å·²å®Œæˆï¼Œè®¡æ•°å™¨æ›´æ–°å®Œæ¯•ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                fi    #ä¸‹è½½çŠ¶æ€åˆ¤æ–­ç»“æŸ
            else    #å¦‚æœSDIRè·¯å¾„ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸš«[$time] [ç›®å½•9] æ£€æµ‹åˆ°$SDIR9(åŸç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG
                  
            fi    #SDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­ç»“æŸ                
        fi    #TDIRæ˜¯å¦å­˜åœ¨åˆ¤æ–­ç»“æŸ
    else    #è‹¥TDIRè·¯å¾„ä¸ºç©º
        time=$(date +"%Y-%m-%d %H:%M:%S")
        echo "ğŸš«[$time] [ç›®å½•9] æ£€æµ‹åˆ°$TDIR9(ç›®æ ‡ç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG       
    fi    #TDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­å®Œæ¯•

#----------------SDIR10 -> TDIR10---------------------

    #æ£€æŸ¥TDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
    if [[ "$TDIR10" != "" ]]; then
        #è‹¥TIDRè·¯å¾„ä¸ä¸ºç©º
        #æ£€æŸ¥TIRæ˜¯å¦å­˜åœ¨
        if [ ! -d "$TDIR10" ]; then
        #è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè·¯å¾„å¹¶ç”Ÿæˆæ—¥å¿—
            mkdir -p $TDIR10
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•10] æ£€æµ‹åˆ°$TDIR10(ç›®æ ‡ç›®å½•)ç›®å½•ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºç›®å½•" >> $LOG        
        else    #è‹¥å­˜åœ¨ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€å±‚åˆ¤æ–­
            #ç”Ÿæˆæ—¥å¿—
            time=$(date +"%Y-%m-%d %H:%M:%S")
            echo "ğŸ‘Œ[$time] [ç›®å½•10] æ£€æµ‹åˆ°$TDIR10(ç›®æ ‡ç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
            #æ£€æŸ¥SDIRè·¯å¾„æ˜¯å¦ä¸ºç©º
            if [[ "$SDIR10" != "" ]];then
            #è‹¥ä¸ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—ï¼Œåè¿›è¡Œä¸‹è½½çŠ¶æ€åˆ¤æ–­
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸ‘Œ[$time] [ç›®å½•10] æ£€æµ‹åˆ°$SDIR10(åŸç›®å½•)ç›®å½•å·²å­˜åœ¨" >> $LOG
                #æ£€æŸ¥SDIRç›®å½•ä¸‹æ˜¯å¦æœ‰.tmpæ–‡ä»¶
                tmp10=$(find $SDIR10 -type f -name '*.tmp')
                if [ -n "$tmp10" ]; then
                    #å¦‚æœæœ‰ï¼Œç”Ÿæˆæ—¥å¿—ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "â—ï¸[$time] [ç›®å½•10] å·²å‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œä¸è¿›è¡Œç§»åŠ¨ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                else    #å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œæ–‡ä»¶ç§»åŠ¨
                    #ç”Ÿæˆæ—¥å¿—
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "ğŸ‘Œ[$time] [ç›®å½•10] æœªå‘ç°ä¸‹è½½ä¸­çš„æ–‡ä»¶ï¼Œå¼€å§‹ç§»åŠ¨æ–‡ä»¶" >> $LOG
                    #è·å–è¦ç§»åŠ¨çš„æ–‡ä»¶æ•°é‡
                    files_to_move=$(ls $SDIR10 | wc -l)       
                    #ç§»åŠ¨æ–‡ä»¶
                    mv $SDIR10* $TDIR10
                                       
                    #åˆ¤æ–­æ˜¯å¦åˆ é™¤ç›®å½•
                    #æ£€æŸ¥ $RM æ˜¯å¦ç­‰äº 1
                    if [ "$RM10" -eq 1 ]; then
                        #å¦‚æœ $RM ç­‰äº 1ï¼Œåˆ™åˆ é™¤ç›®å½• $SDIR
                        rm -rf "$SDIR10"
                        echo "âœ…[$time] [ç›®å½•10] å·²ä¸ºæ‚¨åˆ é™¤$SDIR10(åŸç›®å½•)"
                    #å¦‚æœ $RM ä¸ç­‰äº 1ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
                    fi
                    
                    #æ›´æ–°è®¡æ•°å™¨
                    counter=$((counter + files_to_move))
                    title="æœ€æ–°ç§»åŠ¨ä½äº[ç›®å½•10]$SDIR10
                    âœ…æœ¬æ¨¡å—å…±ä¸ºæ‚¨ç§»åŠ¨äº† $counter ä¸ªæ–‡ä»¶ï¼"
                    time=$(date +"%Y-%m-%d %H:%M:%S")
                    echo "âœ…[$time] [ç›®å½•10] ç¬¬$counterä¸ªæ–‡ä»¶ç§»åŠ¨å·²å®Œæˆï¼Œè®¡æ•°å™¨æ›´æ–°å®Œæ¯•ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯
        ----------------------------------------" >> $LOG
                fi    #ä¸‹è½½çŠ¶æ€åˆ¤æ–­ç»“æŸ
            else    #å¦‚æœSDIRè·¯å¾„ä¸ºç©º
                #ç”Ÿæˆæ—¥å¿—
                time=$(date +"%Y-%m-%d %H:%M:%S")
                echo "ğŸš«[$time] [ç›®å½•10] æ£€æµ‹åˆ°$SDIR10(åŸç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG
                  
            fi    #SDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­ç»“æŸ                
        fi    #TDIRæ˜¯å¦å­˜åœ¨åˆ¤æ–­ç»“æŸ
    else    #è‹¥TDIRè·¯å¾„ä¸ºç©º
        time=$(date +"%Y-%m-%d %H:%M:%S")
        echo "ğŸš«[$time] [ç›®å½•10] æ£€æµ‹åˆ°$TDIR10(ç›®æ ‡ç›®å½•)è·¯å¾„æœªå¡«å†™ï¼Œè·³è¿‡ç§»åŠ¨" >> $LOG       
    fi    #TDIRè·¯å¾„æ˜¯å¦ä¸ºç©ºåˆ¤æ–­å®Œæ¯•

#----------------ä¸€è½®æ–‡ä»¶ç§»åŠ¨å®Œæˆ---------------------      
 
    #æ›´æ–°è®¡æ•°å™¨
    sed -i '/^description=/d' $MODDIR/module.prop
    echo "description=${title}" >>$MODDIR/module.prop
    
    #åˆ æ—¥å¿—
    #è·å–æ—¥å¿—çš„è¡Œæ•°
    line_count=$(wc -l < $LOG)
    #æ£€æŸ¥è¡Œæ•°æ˜¯å¦è¶…è¿‡1024
    if [ $line_count -gt 10000 ]; then
        #åˆ é™¤å‰128è¡Œ
        awk 'NR>1000' $LOG > $MODDIR/temp.txt && mv $MODDIR/temp.txt $LOG
        time=$(date +"%Y-%m-%d %H:%M:%S")
        echo "ğŸ”ª[$time] æ—¥å¿—å·²æ»¡10000è¡Œï¼Œè‡ªåŠ¨åˆ é™¤å‰1000è¡Œ" >> $LOG
    fi
    
    
    #ç¡çœ 5ç§’
    sleep $TS
done
